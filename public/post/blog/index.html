<p>So I want to start my blog with one of the arguments that have thrilled me in recent times more than anything else in the programming world: the web app vs native app thing. We’re obviously focusing our attention on mobile platforms, as no one need someone explaining how much better it is to develop web-based apps for desktop than native ones. Software companies just shifted their efforts from <em>native/only one OS compatible/hard to keep updated/too much influenced by local machine performances</em> apps to the web (especially after that wonderful browser called Firefox came and thaught to Microsoft and friends how a decent browser should work -a lesson they still seem not to have learnt); and, in my memory, that shift began from the years 2006/07 on.</p>

<p>Would you have ever used -or, even known- Facebook if it only was a software to be installed on your Windows/Mac/Linux? I have reasons to think the answer is no. So, why are we talking again about the best choice between native and web <a href="https://twitter.com/mattheath"><img class="alignright size-medium wp-image-27" title="blackberry_screen" alt="Web app on BlackBerry" src="https://www.marcotroisi.com/wp-content/uploads/2012/09/blackberry_screen-300x238.png" width="300" height="238" srcset="https://www.marcotroisi.com/wp-content/uploads/2012/09/blackberry_screen-300x238.png 300w, https://www.marcotroisi.com/wp-content/uploads/2012/09/blackberry_screen.png 383w" sizes="(max-width: 300px) 100vw, 300px" /></a>even for apps we know there’s no other way to succed than using the web as their main platform? The answer is quite simple: mobile devices. Or, to be more precise, the companies that make the OSs running on such devices. It’s not needed to be said that Apple gets a huge amount of money from the apps that developers publish on their App Store. It’s $99 per year, and 30% of every sales generated in-app. So, whilst desktop browsers have reached a level that allow you to develop practically everything using the web as your platform, mobile browser have not yet reached the same level. And, while companies like Apple and Google are getting a lot of external pressure to adopt the new HTML5 standards and to make their mobile browser acting just like their desktop versions do, they hesitate because they know they can get no revenue from people developing mobile web apps instead of native ones, and their OSs would also lose their uniqueness from the moment apps begin to work on any OS that have a decent and updated browser.</p>
<p>But in my opinion things are -slowly- changing. Firstly, since version 4.0 of Android, Google introduced <a href="http://www.hailoapp.com">Chrome for Android</a>, although it is not yet the default browser (with the exception of their Nexus 7), but it is obviously going to become it. And there are reasons to imagine they will at one point take their Chrome web store (where you can publish, and even sell, your web-based apps) on Android, and that I think is going to be breakthrough. Mozilla’s doing the same with Firefox, and it’s not a scoop that they will introduce their new <a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-1/">Mozilla Marketplace</a> (something similar to Chrome web store, but with a few other <a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-2/">interesting features</a>). Even Apple’s very very slowly improving Safari mobile (it’s to be said that they’re the only ones with that cool option “Add to home screen” on the main menu, which lets users create an icon launcher of your web app, just like a native app). Also, the next BlackBerry 10 browser seems to be <a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-3/">very advanced</a>, and the fact that Mozilla’s going to launch their Firefox OS (which runs completely on HTML5) is simply exciting.</p>
<p><strong>Conclusion</strong></p>
<p>There are reasons why web apps on mobile have not succeded as they should until now, and they do not depend, in my opinion, on the web potentialities themselves, but on the OSs producers willingness. But there are also a lot of reasons for starting to seriously think about developing HTML5 cross-platform web apps, as things are going to change a lot in the next months, and it might be a huge waste of time (and money) to employ your resources in developing a native app for iOS, one for Android, one for BlackBerry and Windows Phone (not to say that in many cases smartphones and tablets with the same OS may require a different app to be developed).</p>
<p> </p>
<p>It’s about a month ago that I came to know that <a href="http://www.larryullman.com" target="_blank">Larry Ullman</a>, a web programmer and writer of wonderful tutorials/books, was about to write a <a href="http://www.larryullman.com/2012/09/12/yii-2-and-the-yii-book/" target="_blank">new book</a> on the <a href="http://www.yiiframework.com" target="_blank">Yii framework</a>, my favourite PHP framework at all.</p>
<p>While there’s no doubt I will be one of the firsts to buy it, I suggest to everyone interested in (and/or actually involved with) programming with PHP and using a framework to make your webapps more stable, simple to keep updated (especially if you work with a team) and stable, to read Larry’s incredibly clear and well written “<a href="http://www.larryullman.com/series/learning-the-yii-framework/" target="_blank">Learning Yii framework</a>” series on his blog. Should you like it, you may consider to buy his next to be published book.</p>
<p>The Yii framework was created by Qiang Xue, a developer previously involved in the Prado framework. <em>«Yii is a free, open-source Web application development framework written in PHP5 that promotes clean, <a href="http://en.wikipedia.org/wiki/Don%27t_repeat_yourself" rel="nofollow">DRY</a> design and encourages rapid development. It works to streamline your application development and helps to ensure an extremely efficient, extensible, and maintainable end product.»</em> (source: <a href="http://www.yiiframework.com/about/" target="_blank">yiiframework.com/about/</a>).</p>
<h2 id="other-books-on-php-from-larry-ullman">Other books on PHP from Larry Ullman:</h2>
<ul>
<li><a href="https://twitter.com/mattheath">PHP and MySQL for Dynamic Web Sites: Visual QuickPro Guide (Visual QuickPro Guides)</a><img style="border: none !important; margin: 0px !important;" alt="" src="http://ir-uk.amazon-adsystem.com/e/ir?t=marctroi07-21&l=as2&o=2&a=0321784073" width="1" height="1" border="0" /></li>
<li><a href="http://www.hailoapp.com">PHP Advanced and Object-Oriented Programming: Visual QuickPro Guide</a><img style="border: none !important; margin: 0px !important;" alt="" src="http://ir-uk.amazon-adsystem.com/e/ir?t=marctroi07-21&l=as2&o=2&a=B0099RT7JA" width="1" height="1" border="0" /></li>
<li><a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-1/">Effortless E-commerce with PHP and MySQL (Voices That Matter)</a><img style="border: none !important; margin: 0px !important;" alt="" src="http://ir-uk.amazon-adsystem.com/e/ir?t=marctroi07-21&l=as2&o=2&a=0321656229" width="1" height="1" border="0" /></li>
</ul>
<h2 id="httpwww.amazon.co.ukgpproduct0321656229refas_li_tf_tlieutf8camp1634creative6738creativeasin0321656229linkcodeas2tagmarctroi07-21"><a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-1/">3</a>: http://www.amazon.co.uk/gp/product/0321656229/ref=as_li_tf_tl?ie=UTF8&amp;camp=1634&amp;creative=6738&amp;creativeASIN=0321656229&amp;linkCode=as2&amp;tag=marctroi07-21</h2>
<p>title: 'Yii: XML generator' author: Marco Troisi layout: post date: 2012-10-27 url: /xml-generator-yii-framework/ categories: - PHP - Tutorials - Yii Framework</p>
<p>title: A List Apart author: Marco Troisi layout: post date: 2012-11-10 url: /a-list-apart/ categories: - HTML5 - Mobile</p>
<p>title: I got a Rasperry PI! author: Marco Troisi layout: post date: 2013-01-05 url: /i-got-a-rasperry-pi/ categories: - Raspberry PI - Tutorials tags: - raspberry pi</p>
<p>title: How to set up a full web server on a Raspberry PI author: Marco Troisi layout: post date: 2013-01-16 url: /how-to-web-server-on-raspberry-pi/ categories: - Raspberry PI - Tutorials tags: - apache - lampp - mysql - php - raspberry pi</p>
<p>title: Make your website available offline with HTML5 author: Marco Troisi layout: post date: 2013-04-12 url: /make-your-website-available-offline-with-html5/ categories: - HTML5 - Mobile - Tutorials tags: - appcache - chrome - firefox - html5 - manifest - mobile - offline</p>
&lt;/html&gt;
</pre>
<p>The <em>.appcache</em> extension is actually not mandatory, but it’s the W3C standard, so you better adopt it in order to avoid incompatibilities with strict standard-observing browsers. The manifest attribute in a web application can specify either the relative path of a cache manifest file or an absolute URL (but they must be from the same origin as the application).</p>
<p>It’s important to know that this manifest must be <span style="text-decoration: underline;">included in each and every page that you want to be cached</span>, and you don’t have to list those pages in the manifest, because they will be automatically saved as the user visit them.</p>
<p>The cache manifest file must be served with the MIME type text/cache-manifest. In Apache, you can do that adding the following line to your .htaccess file:</p>
<pre>AddType text/cache-manifest .appcache</pre>
<h2 id="the-appcache-manifest-file">The Appcache manifest file</h2>
<p>The Appcache manifest file is a simple text file that lists the resources (identified by URI) that you want the browser to cache for offline access. The following is an example of a manifest file:</p>
<pre>CACHE MANIFEST
# mywebapp.appcache v1
# this is my cache manifest 
fileindex.html
cache.html
style.css
image1.png

# Use from network if available
NETWORK:
network.html

# Fallback content
FALLBACK:
/ fallback.html</pre>
<p>It’s vital for the cache manifest to be identified as such to have <strong>CACHE MANIFEST</strong> as its first line. All the resources listed after that line are going to be cached.</p>
<p>The <strong>NETWORK</strong> section lists all the resources for which a network coverage is required, and you don’t want the browser to save them and use the cached version.</p>
<p>In the <strong>FALLBACK</strong> section we’re going to list the pages that should be showed when a certain resource is not available. In our case, we decided to show “<em>fallback.html</em>” for every resource not available (“<em>/</em>“).</p>
<p>You can also add a further section <strong>CACHE</strong>, which will work just as the lines after CACHE MANIFEST. All the three sections CACHE, NETWORK and FALLBACK are optional and can be declared more than once in the manifest file.</p>
<h2 id="testing">Testing!</h2>
<p>If you think that this is going to work at the first attempt you’re probably crazy. The smallest error in the appcache manifest file will actually prevent your application to be locally cached on a device. In such situations, tools like <strong>Manifesto</strong> (<a title="Manifesto" href="http://manifesto.ericdelabar.com/" target="_blank">http://manifesto.ericdelabar.com/</a>) are simply priceless and save you a lot of time and headaches.</p>
<del>
Firefox and a few other browsers display a <strong>notification bar</strong> the first time a user loads an application that uses the application cache.
</del>
<p>[<strong>UPDATE:</strong>  Since v. 26, there is no longer a notification bar on Firefox when websites use <em>appcache</em>]</p>
<h2 id="see-also">See also</h2>
<ul>
<li>A beginner’s Guide to Using the Application Cache from HTML5Rocks: <a href="http://www.html5rocks.com/en/tutorials/appcache/beginner/" target="_blank">http://www.html5rocks.com/en/tutorials/appcache/beginner/</a></li>
<li><h2 id="check-browser-compatibilities-on-html5test-httphtml5test.comcomparefeatureoffline-applicationcache.html">Check browser compatibilities on HTML5Test: <a href="http://html5test.com/compare/feature/offline-applicationCache.html" target="_blank">http://html5test.com/compare/feature/offline-applicationCache.html</a></h2>
title: Native apps are faster than web apps. Ok, what’s the news? author: Marco Troisi layout: post date: 2013-07-17 url: /native-apps-vs-web-apps/ categories:</li>
<li>HTML5</li>
<li>Javascript</li>
<li>Mobile tags:</li>
<li>html5</li>
<li>javascript</li>
<li>native</li>
<li>open web</li>
<li>web apps</li>
</ul>
<p>title: 'WordPress and Ghost: a CMS vs a blogging platform' author: Marco Troisi layout: post date: 2014-01-01 url: /wordpress-and-ghost/ dsq_thread_id: - 2100460454 categories: - HTML5 - Javascript - node.js - PHP - Software Development tags: - ghost - node.js - php - WordPress</p>
<p>title: 'Writing for Milk &amp; Honey Mag' author: Marco Troisi layout: post date: 2014-02-28 url: /writing-for-milk-honey-mag/ dsq_thread_id: - 2336984874 categories: - News</p>
<p>title: How to use Fat Free framework from the command line description: &quot;A simple tutorial that will enable you to use Fat Free framework from command line in just a few minutes.&quot; author: Marco Troisi layout: post date: 2014-05-04 url: /how-to-use-fat-free-framework-from-the-command-line/ dsq_thread_id: - 2659771718 categories: - Fat Free framework - PHP - Tutorials</p>
<p>title: Moving to Germany! author: Marco Troisi layout: post date: 2014-08-29 url: /moving-to-germany/ dsq_thread_id: - 2969179948 categories: - News tags: - berlin milan moving job</p>
<p>title: What would your ideal Publishing Platform look like? author: Marco Troisi layout: post date: 2014-10-23 url: /what-would-your-ideal-publishing-platform-look-like/ dsq_thread_id: - 3147392879 categories: - Software Development tags: - cms - ghost - github pages - jekyll - medium - octopress - WordPress</p>
<p>title: My Two Cents on Go description: 'Coming from PHP, my impressions on Golang and a quick script in both languages to test productivity and performance.' author: Marco Troisi layout: post date: 2014-11-20 url: /my-two-cents-on-golang/ dsq_thread_id: - 3245735799 categories: - Golang - PHP - Software Development tags: - benchmark - go - golang - php</p>
<p>title: How technology will open even more doors for people to work together author: Marco Troisi layout: post date: 2015-03-09 url: /how-technology-will-open-more-doors-for-people-to-work-together/ dsq_thread_id: - 3580385515 categories: - Opinions - Startups - Technology tags: - companies - specialisation - startups</p>
<p>title: 'Microservices: A Quick Introduction' description: 'An overview of what Microservices are and why they can be a good choice for your next application.' author: Marco Troisi layout: post date: 2015-03-18 url: /micro-services-a-quick-introduction/ dsq_thread_id: - 3605512010 categories: - Software Development - Technology tags: - microservices</p>
<p>title: 5 Tips for becoming a Productive Programmer description: &quot;Being a Productive Programmer is key to delivering better results. Here are 5 tips that will help you become one, and achieve more.&quot; author: Marco Troisi layout: post date: 2015-03-30 url: /productive-programmer-5-tips/ categories: - Opinions - Productivity tags: - discipline - efficiency - productivity - programming - quality - relax featured_image: &quot;https://www.marcotroisi.com/wp-content/uploads/2015/03/mac-glasses.jpg&quot;</p>
<p>title: An example of a Microservice description: &quot;I built a Microservice to use as an example to walk through. See how easy it is to build one for yourself!&quot; author: Marco Troisi layout: post date: 2015-04-14 url: /an-example-of-a-microservice/ categories: - Fat Free framework - PHP - Software Development - Technology tags: - microservices - microtranslator - php featured_image: &quot;https://www.marcotroisi.com/wp-content/uploads/2015/04/microtranslator.png&quot; --- After writing on <a href="https://twitter.com/mattheath">Microservices</a>, I received a few feedbacks from people who found the topic fascinating but struggled to see how to effectively apply it in reality. So I decided to develop a little microservice, to use as a practical example. </p>
<h2 id="introducing-microtranslator">Introducing MicroTranslator</h2>
<p><strong><a href="http://www.hailoapp.com">MicroTranslator</a></strong> is a microservice that I have built, which is supposed to handle locale and translations in an application. Its tech stack is the following:</p>
<ul>
<li>PHP &gt;= 5.4</li>
<li><a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-1/">Fat Free framework</a></li>
<li><a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-2/">Moss Locale</a></li>
<li><a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-3/">MongoDB</a></li>
</ul>
<del datetime="2015-07-20T07:04:33+00:00">
<em><strong>Note:</strong> at the time of this writing (14 Apr ’15) I am still working on MicroTranslator. It will be production-ready (documentation included) in a few days. Sorry about that!</em>
</del>
<h2 id="it-comes-with-rest-api">It comes with REST API</h2>
<p>MicroTranslator provides simple-to-use REST API. For this reason, you need to know little to no PHP to use it. Simply fire up an instance of PHP on whatever machine you like, and then use the APIs to get the translations on the other Microservices that compose your application.</p>
<p>Now this is important, in my opinion. It means that you can quickly begin working on your application without having to focus on a tedious task such as handling translations, but also that, at any point in time, you can completely get rid of it and rewrite it with, perhaps, a faster language. Or you can simply upgrade your hardware and keep relying on it.</p>
<h2 id="i-could-have-done-this-myself">“I could have done this myself”</h2>
<p>You may think now, “why should I use your stuff when I can write my own translation manager, using the tools that I like the most?” The simple answer here is “You shouldn’t (use my translation manager)!”</p>
<p>But I would also like to point out that, unless translations represent the core of your application, there is no reason why you would want to waste your time rewriting a library that does the same thing. But even if you do, what you should be avoiding is to tie it all up with the rest of your application. Using a Microservices architecture will allow you to <em>replace</em> parts of your application quickly and seamlessly. And, it will give you the power of choosing the right tools, framework, database, etc for the task.</p>
<h2 id="point-by-point">Point by point</h2>
<p>Like I said, one of the reasons why I worked on MicroTranslator is because I wanted to create a real-life example out of my previous article on <em>what is a Microservice</em>.</p>
<p>Let’s have a look at the points I outlined back then:</p>
<ol style="list-style-type: decimal">
<li><strong>It is a Stand-alone service/application.</strong>: Yes, MicroTranslator is stand-alone. It doesn’t need, and actually, it doesn’t want, to be included into your PHP application. You can connect to it, get and send to it all the data that you need, but you will not find MicroTranslator-specific code in your application. Just generic API calls.</li>
<li><strong>It is quick to (re)write.</strong>: Absolutely! I wrote MicroTranslator in a weekend plus a few other free hours during the week. You can totally rewrite it in a week or less as soon as you feel like it.</li>
<li><strong>It focuses on one task</strong>: It only cares about your translations. It doesn’t even want to know how you use them.</li>
<li><strong>It is Language-agnostic.</strong>: Well, MicroTranslator is clearly written in PHP, but you can use its APIs from application, regardless of the language/framework/tools you are using.</li>
<li><strong>It is aware of failures</strong>. This clearly depends on the rest of the application. But, for example, you can cache the translations that you get from MicroTranslator, so that, should it be unreachable at a certain point in time, you can still handle the situation graciously. One thing is sure: if MicroTranslator goes down, it won’t <em>directly</em> affect your main application.</li>
</ol>
<h2 id="in-practice-its-not-that-difficult">In practice, it’s not that difficult</h2>
<p>It’s amazing how simple things can look like when we see them in real-life examples. In fact, despite the buzzword-mania and all the hype around Microservices, something that we often fail to understand is how simple they are. Building a Microservice is as simple as a few days of work. Building an entire application based on a Microservices Architecture is as simple as being able to separate everything into small services/applications that are only concerned about one little thing, and they do that <em>very well</em>. This is, by the way, also one the keys of greater <a href="http://www.facebook.com/sharer/sharer.php?u=https://www.marcotroisi.com/hailo-journey-into-microservices/">productivity</a>.</p>
<p><strong><em>Question: have you already tried to build a Microservice, or even an entire application based on a Microservices architecture? I would love to have a look and learn from you as well. Share your work on <a href="http://www.clean-code-developer.com/Favor-Composition-over-Inheritance.ashx">Facebook</a> or <a href="http://en.wikipedia.org/wiki/Composition_over_inheritance">Twitter</a>.</em></strong></p>
<p>In today’s article, I would like to talk about something which I see that, sometimes, developers aren’t too familiar with. Most of us know what the traditional concept of <strong>inheritance</strong> is: a child class extends a parent class. And, obviously, multiple children classes can extend the same parent class.</p>
<p>What some developers don’t seem to be always aware of (or, perhaps, they just aren’t entirely sure how to use it), is the idea of <strong>composition</strong>.</p>
<h2 id="what-is-composition">What is Composition</h2>
<p>Composition can be explained by a child class “incorporating” one or more classes that it intends to extend. In other words, you are declaring inside your class, what other class’ methods do you want to be able to use, without having to strongly tie up your children class to its parent(s).</p>
<h3 id="has-a-vs-is-a"><em>Has-a</em> VS <em>Is-a</em></h3>
<p>A good way to look at Composition is to think of a class that <em>HAS-A</em> relationship with another class, rather <em>IS-A</em> “son” of that class. In this sense, when you use Composition, the class has an “identity” of its own, and it’s not to be seen as being “only” a son of that other class which it extends.</p>
<h2 id="the-benefits-of-composition">The Benefits of Composition</h2>
<p>While I am not advocating for the complete elimination of traditional inheritance, there are benefits of using Composition that I would like to highlight. And, the way I see it, it is possible that once we realise the power of Composition over Inheritance, we may actually end up using Inheritance less and less. Here are the reasons why Composition is a good pattern:</p>
<ol style="list-style-type: decimal">
<li><strong>Flexibility</strong>: it is not by chance that I am giving this one the first position in my list. With Inheritance, as mentioned, you tie your Class up to another one, and you define even before starting to design your class, who is going to extend (be a child of) what. But, what happens if you wanted to only use <em>some</em> of the methods that your parent has? Or, on the opposite side, what if you had 5 children of which only 2 needed a couple of additional methods? These things would not have been a problem with Composition. But the truth is that <strong>Inheritance is often not flexible enough</strong>.</li>
<li><strong>Extension of Multiple Classes</strong>: who says you should only extend one Class? Why couldn’t <code>Corolla</code> be a son of <code>Car</code> but also of <code>Toyota</code> at the same time? That obviously makes sense, but it’s normally not possible in traditional programming languages. <a href="https://twitter.com/mattheath">Interfaces</a> can give us some help here, but they <em>don’t</em> actually implement the methods we need.</li>
<li><strong>Avoid duplicates</strong>: Like in the previous example, if we were to use Interfaces for our <code>Corolla</code> Class, we would end up having to write some of our methods for our <code>Yaris</code> or <code>Sedan</code> Classes. That’s not cool. Duplicating code is not a good idea.</li>
</ol>
<p>There are other benefits to using Composition, but those are the ones I feel are the most worthy of being highlighted here.</p>
<h2 id="how-do-i-use-composition-in-insert-programming-language-here">How do I use Composition in <em>[insert programming language here]</em></h2>
<p>Composition is available out of the box in <a href="http://www.hailoapp.com">many of the mainstream languages</a>. It can be implemented in the form of a <em>Trait</em> in PHP, Python, Scala and others; It’s called a <em>Module</em> in Ruby, and a <em>Role</em> in Perl. Javascript, as per usual, has <a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-1/">unique ways to implement Composition</a>, but it’s there. Finally, it’s interesting to note that Go doesn’t even consider Inheritance as an option; Composition is the only game in town, and it’s called <a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-2/">Embedding</a>.</p>
<p><strong><em>Question: what are your thoughts on Composition over Inheritance? Where is it best to use one over the other? Share your ideas on <a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-3/">Facebook</a> or <a href="http://www.facebook.com/sharer/sharer.php?u=https://www.marcotroisi.com/hailo-journey-into-microservices/">Twitter</a>.</em></strong></p>
<hr />
<h3 id="more-to-read-on-composition-over-inheritance">More to read on Composition over Inheritance</h3>
<ul>
<li><a href="http://www.clean-code-developer.com/Favor-Composition-over-Inheritance.ashx">Clean Code Developer</a></li>
<li><a href="http://en.wikipedia.org/wiki/Composition_over_inheritance">Wikipedia</a></li>
<li><a href="http://codingdelight.com/2014/01/16/favor-composition-over-inheritance-part-1/">Coding Delight</a></li>
</ul>
<p>A while ago, while looking for experiences of companies actually transitioning into a Microservice architecture, I stumbled upon this nicely written, real-world series of articles from <a href="https://twitter.com/mattheath">Matt Heath</a>, published on the <a href="http://www.hailoapp.com">Hailo</a> tech blog. The articles talk about their moving from a mostly-PHP, monolithic architecture, towards one based on Microservices.</p>
<p>It is very interesting to read about the challenges of a company that started that everyone else, and then had to face the inevitable problems of scalability and code maintainability. It is also stimulating to see how they answered the questions almost everyone asks when trying to move into a Microservices architecture.</p>
<p>If you are interested, read the articles, starting from the first one: <a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-1/">A Journey into Microservices</a>, and then go ahead with <a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-2/">part two</a> and <a href="https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-3/">part three</a>.</p>
<p><strong><em>Question: have you worked on a transition to a microservice architecture? What has your experience been? Share your thoughts on <a href="http://www.facebook.com/sharer/sharer.php?u=https://www.marcotroisi.com/hailo-journey-into-microservices/">Facebook</a> or <a href="http://www.clean-code-developer.com/Favor-Composition-over-Inheritance.ashx">Twitter</a>.</em></strong></p>
<p><em>Featured photo from the Hailo website</em></p>
<h2 id="httpstwitter.comintenttweetoriginal_refererhttpwww.marcotroisi.comhailo-journey-into-microservicessourcetweetbuttontext3furlhttpgoo.glmb66xwviamarcotroisi"><a href="http://www.clean-code-developer.com/Favor-Composition-over-Inheritance.ashx">7</a>: https://twitter.com/intent/tweet?original_referer=https://www.marcotroisi.com/hailo-journey-into-microservices/&amp;source=tweetbutton&amp;text=%3F&amp;url=http://goo.gl/MB66xW&amp;via=marcotroisi</h2>
<p>title: The Ethics of Code Reviews description: &quot;Code Reviews are a powerful tool not only to improve the quality of our code, but also to make our teammates' life easier. Be a constructive Code Reviewer.&quot; author: Marco Troisi layout: post date: 2015-05-06 url: /the-ethics-of-code-reviews/ categories: - Opinions - Productivity - Software Development tags: - code reviews - reviewing - team</p>
<p>title: Apple and the battle for privacy author: Marco Troisi layout: post date: 2015-06-23 url: /apple-and-the-battle-for-privacy/ categories: - News - Opinions - Technology tags: - apple - encryption - google - privacy - security - tim cook</p>
<p>title: What can we learn from Periscope author: Marco Troisi layout: post date: 2015-09-04 url: /what-can-we-learn-from-periscope/ categories: - Opinions - Productivity - Software Development - Startups - Technology tags: - business - development - perfectionism - periscope - twitter</p>
<p>title: A Question about Microservices description: &quot;A question on how to approach a microservices architecture, authentication, and over-bloated frameworks.&quot; author: Marco Troisi layout: post date: 2015-09-24 url: /questions-about-microservices/ categories: - Software Development - Technology tags: - authentication - golang - kong - microservices</p>
<p>title: Technical debt is not a unicorn description: &quot;Technical debt is not an abstract concept. It has real and serious effects, and can be avoided.&quot; author: Marco Troisi layout: post date: 2015-11-04 url: /technical-debt-is-not-a-unicorn/ categories: - Opinions - Software Development - Startups - Technology tags: - architecture - refactoring - technical debt featured_image: &quot;https://www.marcotroisi.com/wp-content/uploads/2015/11/sanfrancisco_800.jpg&quot;</p>
<p>title: Microservices won’t improve your code quality description: &quot;I am very excited about microservices, but they are not going to make my code quality better. That will always be up to the programmer.&quot; author: Marco Troisi layout: post date: 2015-12-16 url: /microservices-wont-improve-your-code-quality/ categories: - Opinions - Software Development - Technology tags: - architecture - code quality - microservices featured_image: &quot;https://www.marcotroisi.com/wp-content/uploads/2015/12/microservices-wont-improve-code-quality-small.jpg&quot;</p>
<p>author: Marco Troisi categories: - Software Development - Php - Opinions date: 2016-05-23T08:34:57+01:00 description: How to write high quality Object Oriented Code draft: false layout: post tags: - OOP - object oriented programming - Php - Javascript - Golang title: Healthy OOP url: /healthy-oop-object-oriented-programming/ --- I enjoy writing code in an Object Oriented fashion. Thinking in terms of objects gives me a model that, when followed consistently, ends up producing code that is well organised, and that I know to be relatively easy to understand, test, and refactor.</p>
<p>Now <a href="https://mcollina.github.io/we-are-not-object-oriented-anymore/">some people</a> would want to argue that OOP doesn't really work and/or that we don't need it anymore to build modern software. While I by no means think or want to say that OOP is the ultimate paradigm, I would definitely want to maintain that <em>it is</em> helpful and that a bunch of procedural code, however <em>nicely</em> organised (even if that means <a href="http://marcotroisi.com/microservices-wont-improve-your-code-quality/">microservices</a>), <em>is not</em> the answer.</p>
<p>The problem with a lot of the criticism that OOP gets, is that it tends to refer to things that in popular programmer culture have become somehow associated with OOP (like the use of ORM), while that isn't really the case.</p>
<p>Object Oriented Programming <em>done well</em>, or what I call <strong>Healthy OOP</strong>, comes with a lot of benefits. Here's a number of things everyone needs to know in order to write good quality code in an OOP way.</p>
<p><a name="orm-no-thanks"></a> ## ORM? No, thanks</p>
<p>The main problem with using an ORM in an Object Oriented software is, to put it simply, that ORM-related code is overwhelmingly not Object Oriented. I am not saying it is bad per se, and I am not buying into <a href="http://martinfowler.com/bliki/OrmHate.html">Orm Hate</a> just for the sake of it. But, at least if you're trying to write good quality Object Oriented code, using an ORM is probably not the smartest choice out there.</p>
<p>The biggest issue here is that when you use an ORM you are encouraged to create what you are told to be objects, and use them as <em>mappers</em> to a database table (or collection). While this may sound very convenient on paper, in practice it will inevitably lead you to create big classes, at least as big as your database tables.</p>
<p>Not only that, but it will also encourage you to skip the &quot;thinking&quot; process, or the architectural side of things. In other words, when all you have to do is to <em>replicate</em> the exact same structure of your tables into classes (and please don't make the mistake of thinking of them as objects, because they are not), and when most of this is probably done for you by some sort of automated <em>table-to-class</em> generator, then there is almost no point in which it makes sense to sit down and thinking through what's the appropriate architecture and the best organisation for the software. You're going to create a bunch of classes that represent your tables, and you'll just work with them as they are.</p>
<p>But database tables are meant to be relatively big collections of data, in a structured and easy-to-query fashion. There is very little correlation between that and your Objects, which are supposed to be kept small, cohesive, easy to extend, refactor and manipulate. Not to mention the need to keep your <a href="https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html"><em>architecture clean</em></a>, which won't happen if you start tightening up your code with whichever database you've decided to use. It will eventually cause <a href="http://marcotroisi.com/technical-debt-is-not-a-unicorn/">technical debt</a>, and that simply tells you something went wrong at an architectural decision level.</p>
<p>So there is a case to be made against the use of ORMs in general, but even more so if you're doing OOP.</p>
<p>A note of clarification is due here: if you're building software with a clean architecture, and you really, really want to use an ORM, there may be a place for it, and that's at the level of the <em>Interface Adapters</em>, where you would build proper interfaces between your Objects (at the <em>Entities</em> and <em>Use cases</em> levels) and your ORM &quot;mappers&quot;. If you have no idea what I'm talking about here, please do yourself a favour and read Uncle Bob Martin's article on <a href="https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html">the clean architecture</a>.</p>
<p>Personally, my favourite approach would be to build <a href="http://www.yegor256.com/2014/12/01/orm-offensive-anti-pattern.html">SQL-speaking Objects</a>, as suggested by Yegor Bugayenko in both his blog and <a href="http://amzn.to/1R0NSpg">his latest book</a>.</p>
<p>At any rate, if you decide to go with an ORM, that's entirely your prerogative, and it's not wrong in itself. But make sure you're building things in a <em>clean</em> fashion, and don't use the ORM-generated mappers as your main objects for your business logic.</p>
<p><a name="accessors-and-mutators-vs-useful-methods"></a> ## Accessors and mutators vs useful methods</p>
<p><em>Accessors</em> and <a href="https://en.wikipedia.org/wiki/Mutator_method"><em>mutators</em></a>, also known as getters and setters, are incredibly popular today. Most IDEs will even automatically generate them for you, which make them even more tempting, as you can have them there and ready to use in just a few seconds.</p>
<p>Why then take the time to think about more appropriate, expressive and useful methods? There are a few advantages:</p>
<ul>
<li><strong>It makes your Object closer to a real-world entity.</strong> <code>Email.enableAutoresponder()</code> is simply a lot nicer and more expressive than <code>Email.setAutoresponder(true)</code>, and it's closer to how you would conceive that operation in the real world</li>
<li><strong>You don't need to expose all of your internal variables.</strong> What's the point of having your variables as <code>private</code> if you're going to have setters and getters for all of them? You might as well have them all <code>public</code>! The reality is that you often don't need to expose your variables to the outside world.</li>
</ul>
<p>In OOP, it's better to expose just a limited number of highly focussed and expressive methods, and handle everything else internally.</p>
<p>As a representation of a real world entity, your object should be able to do more than just exposing a bunch of variables through getters and setters.</p>
<p>Ultimately and probably the biggest benefit is that by following a more expressive approach you are always going to force yourself to think about the internal architecture of your object (as opposed to not delegating its functionalities to automatically generated getters and setters) by exposing only relevant information via nice and expressively named methods.</p>
<p>A great approach to doing this is to first <strong>create an interface</strong> where you would define all the methods that will be exposed by your object. Then, create your object, making it implement the interface you just defined, and then start filling those methods with actual functionalities, all the while writing your tests for the methods you are working on.</p>
<p><a name="real-world-entities-are-better-than-services"></a> ## Real world entities are better than Services</p>
<p>This is a point that I keep coming back to: take the time to <strong>think about your objects</strong> and the overall architecture.</p>
<p>You should see your objects as <strong>real world entities</strong>, rather than data structures, &quot;helpers&quot;, or &quot;services&quot;. So, again, instead of replicating your database tables, think about real world examples that would make sense in your case, and expose real behaviour, rather than a bunch of accessors.</p>
<p>Instead of building a <code>class PasswordEncrypter</code> (or <code>class PasswordEncryptionService</code>) that takes in passwords and encrypts them using the algorithm of choice, think in terms of small, more maintainable, composable and extendable objects.</p>
<p>Why not defining a simple interface like this:</p>
<pre><code>type EncryptedPasswordInterface interface {
  func encryptedValue() string;
}</code></pre>
<p>and then have simple, small classes implementing that interface to encrypt a given password using a certain algorithm. Something like <code>Sha1EncryptedPassword</code>. And then something like <code>Sha1EncryptedPasswordWithSalt</code>.</p>
<p>Following this approach, you'll never end up with overbloated, ever-growing &quot;Services&quot;, which are really Do-it-all classes, a blatant violation of the <em><a href="https://en.wikipedia.org/wiki/Single_responsibility_principle">Single Responsibility Principle</a></em>.</p>
<p>The main point here is that you want to build in a way that always allows you to keep things small, composable, and breakable into smaller pieces. Your want your objects to be <em>very specific</em> and single-focussed.</p>
<p>The problem with a <code>PasswordEncrypter</code> would have been that even if at the beginning it supported only one encryption algorithm, the number of such algorithms could have grown with time, and there would have been no obvious way to break things into smaller pieces.</p>
<p>Notice that I am not saying that it couldn't have been done, what I am saying is that there wouldn't have been an obvious way to do it, which is after all my main point of contention with OOP: it's a <em>system</em> that gives you a more obvious way to consistently keep your code organised, easy to break into smaller pieces, easy to understand.</p>
<p>In the example above, the real world entity is the <em>encrypted password</em>, as defined by the initial interface. It is very easy to imagine that this password could have been encrypted with as many encryption algorithms as you can think of, and all you need to do is to have an object representing each one of those algorithms. Want to encrypt a password with an algorithm on top of another one? Create an object for it (probably the best approach), or do something like this:</p>
<div class="sourceCode"><pre class="sourceCode go"><code class="sourceCode go">md5Password := NewMd5EncryptedPassword(unencryptedPassword);
encryptedPassword := NewSha1EncryptedPassword(md5Password.encryptedValue);</code></pre></div>
<p>In the above example, <code>encryptedPassword</code> will have double encryption, MD5 and SHA1. A different approach would be to build a <em><a href="https://en.wikipedia.org/wiki/Decorator_pattern">decorator</a></em>, which is an invaluable tool in OOP. It would look like this:</p>
<div class="sourceCode"><pre class="sourceCode go"><code class="sourceCode go"><span class="co">// Constructor for Sha1PasswordFromMd5</span>
<span class="kw">func</span> NewSha1PasswordFromEncrypted(md5EncryptedPassword *EncryptedPasswordInterface) (p *Sha1PasswordFromEncrypted) {
  <span class="kw">return</span> &amp;Sha1PasswordFromEncrypted{md5EncryptedPassword};
}
<span class="co">// Sha1PasswordFromEncrypted is a decorator that takes as an argument</span>
<span class="co">// EncryptedPasswordInterface and returns this value with Sha1 encryption</span>
<span class="kw">type</span> Sha1PasswordFromEncrypted <span class="kw">struct</span> {
  <span class="kw">var</span> Md5EncryptedPassword *EncryptedPasswordInterface;
}
<span class="kw">func</span> (p *Sha1PasswordFromEncrypted) encryptedValue() <span class="dt">string</span> {
  <span class="co">// here encrypt Md5EncryptedPassword with sha1 and return value</span>
}</code></pre></div>
<p>As you can see, <code>Sha1PasswordFromEncrypted</code> is a decorator that takes as a parameter an object that implements its very same interface, <code>EncryptedPasswordInterface</code>. It then applies Sha1 encryption on top of the already existing one, and returns the encrypted value as demanded by its interface.</p>
<p>These are all examples of course, and you would have to use the best approach that works for what you're trying to build. But the main idea is to build objects as representations of real world (not necessarily physical) entities.</p>
<p><a name="use-interfaces"></a> ## Use interfaces</p>
<p>Interfaces can be a controversial topic. Oddly enough, I've found myself having to justify the use of interfaces or making the case for them to other developers more often than would have been reasonable.</p>
<p>Unfortunately, some languages (see Javascript) don't even come with first class support for interfaces (although the excellent Typescript <a href="http://www.typescriptlang.org/docs/handbook/interfaces.html">does</a>), whereas in some other languages, like PHP, interfaces were a later addition and some developers don't seem to have ever taken the time to study the matter and understand what the use cases for them are. Golang has had support for interfaces since the beginning, and their use seems to be part of the language's <em>ethos</em>.</p>
<p>There are many reasons to use interfaces. Personally, I tend to create an interface for virtually every object that I create. This has several benefits:</p>
<ul>
<li>It allows me to define <em>what the object does</em> without having yet to worry about actual implementation of functionalities and related tests</li>
<li>It makes writing tests <strong>very easy</strong></li>
<li>By defining the <em>signature</em> of an object, I'm forcing it to adhere to a <strong>contract</strong> of sort, as my object's public methods will all be described by a previously designed interface.</li>
<li>It makes it easier to avoid more obvious violations of the <em><a href="https://en.wikipedia.org/wiki/Interface_segregation_principle">Interface Segregation Principle</a></em></li>
<li>It gives me the flexibility to quickly <em>swap one object for another</em>, as long as the interface adopted is the same</li>
</ul>
<p>No matter what language you're working with, make it a point to have an abstract signature of your object before you go ahead with the actual implementation.</p>
<p><a name="conclusion"></a> ## Conclusion</p>
<p>There are other good practices that can be kept in mind while doing OOP, such as aiming for object's immutability. But I believe that by at least keeping in mind the practices listed above, you can write high quality Object Oriented Code that makes sense and that you can be proud of.</p>
<hr />
<h3 id="further-reading">Further reading:</h3>
<ul>
<li><a href="http://www.javaworld.com/article/2073723/core-java/why-getter-and-setter-methods-are-evil.html">Why getter and setter methods are evil</a> - Allen Holub</li>
<li><a href="http://www.yusufaytas.com/achieving-abstraction-in-javascript/">Achieving Abstraction In JavaScript</a> - Yosuf Aytas</li>
<li><a href="http://www.yegor256.com/2014/06/09/objects-should-be-immutable.html">Objects should be immutable</a> - Yegor Bugayenko</li>
<li><a href="http://spf13.com/post/is-go-object-oriented/">Is Go OOP?</a> - Steve Francia</li>
<li><a href="http://amzn.to/1R0NSpg">Elegant Objects</a> [Amazon] - Yegor Bugayenko</li>
</ul>

<ul>
<li><a href="#why-you-need-the-best-tools">Why you need the best tools</a></li>
<li><a href="#writing-code">Writing code</a></li>
<li><a href="#version-control">Version Control</a></li>
<li><a href="#code-sharing-and-collaboration">Code sharing and collaboration</a></li>
<li><a href="#code-review">Code review</a></li>
<li><a href="#bug-tracking">Bug tracking</a></li>
<li><a href="#continuous-integration">Continuous integration</a></li>
<li><a href="#static-analysers">Static analysers</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>

<p><a name="why-you-need-the-best-tools"></a> ## Why you need the best tools</p>
<p>Hardly any job can be done without the right tools. You always need <em>something</em> to do what you do. This applies to virtually everyone, from a dentist to a photographer, a journalist to a mathematician. And of course the software engineer is not excused.</p>
<p>Give an old, cheap, faulty camera to a great photographer, and he'll come back to you tired and frustrated, with only a few nice photos and more bad ones than what would be considered acceptable from a professional. Give a fantastic camera to a decent photographer who knows how to use it, and he'll come back with loads of good photos, a few amazing ones, and perhaps a couple of not so great ones.</p>
<p>That's why I'm always amazed at how many software engineers and employers tend to overlook the importance of using the right tools. It's simply astonishing. One reason for that, as I understand it, would be fragmentation, or <em>diversity of opinions</em>. A developer might like a certain tool more than another one.</p>
<p>But here's where I think the controversy starts: it doesn't really matter what you think is better. <strong>What's better is what the industry decides it is</strong>. Look at it this way: if you're a photographer and you think the best way to take photos of your clients is on a 15-years-old Polaroid, does that make it the best tool for the job? I mean, your customers are paying you real money for professional, high-quality photos that they can not only print, but also store on their hard drives. And you give them a bunch of low quality photos printed from an old instant camera. Does this sound right to you? It doesn't to me.</p>
<p>In the same way, it wouldn't matter how cool and geeky it makes you feel to work on a <em>Raspberry PI Model A</em>. The truth is that you're going to spend twice as much time doing what you have to do, because of the inherent slowness of such a small machine; plus you won't have state-of-the-art tools to help you write code, test, debug and so on, because most development software isn't yet supported on an ARM architecture.</p>
<p>As a software engineer, I need to be an absolute professional in what I do. And I need to be in line with what the industry thinks are the best tools.</p>
<p>These things may and will change in the future, but as things stand now, the industry seems to be saying the following things:</p>
<p><a name="writing-code"></a> ## Writing code</p>
<p>The <em>best way to write code</em> is through a powerfully integrated IDE like the ones from JetBrains, or a faster text editor like Sublime Text or Atom, provided you have the right plugins for your language of choice installed. No, you can't use Notepad, that's just not good enough!</p>
<p><a name="version-control"></a> ## Version Control</p>
<p>The industry is also saying that the <em>best version control system</em> is <strong>Git</strong>. It's the system that the biggest number of companies and developers all around the world have found to be the most powerful one. While in terms of usage percentage it may still be fighting against SVN, a quick look at the projects that still use the latter will quickly reveal how the vast majority of them are only using it because of legacy. In other words, those are very old projects, and they were using SVN since before Git was even a thing. But then, why would they keep using such an ancient and inefficient system when there are plenty of ways to migrate to Git? This is something I don't fully understand.</p>
<p><a name="code-sharing-and-collaboration"></a> ## Code sharing and collaboration</p>
<p>Another thing the industry has been saying for a while now, is that the <em>best way to share code</em> is to use <strong>GitHub</strong> on top of the already-mentioned Git. Now, I understand that some companies may find that BitBucket or GitLab fit their needs better. But given the choice, and all things being equal, GitHub is <em>the</em> one. It's the most widely supported and most well known collaboration platform out there.</p>
<p><a name="code-review"></a> ## Code review</p>
<p>Tools for <a href="http://marcotroisi.com/the-ethics-of-code-reviews/">Code reviewing</a> are also important, and they are strictly related to collaboration tools in that the <em>best way to review</em> your peers' code appears to be yet again <strong>GitHub</strong>. Their code reviewing tool is just too good, and it's simply too easy to use when you're already on GitHub, so there's just no need to be looking for anything else.</p>
<p><a name="bug-tracking"></a> ## Bug tracking</p>
<p>For a project to work well, you're going to need some kind of bug tracking system. I've personally had to work with several of them, from <a href="http://www.redmine.org/">Redmine</a> to <a href="https://trello.com/">Trello</a>, from <a href="https://www.atlassian.com/software/jira">Jira</a> to <a href="https://www.jetbrains.com/youtrack/">YouTrack</a>, and of course GitHub Issues. Here I'd have to say that I've had decent experiences with pretty much all of them: once you get used to one of them, they can all do their job, no question about it. But there seems to be a general consensus on <strong>Jira</strong> being the best tool out there, and I think that's right. While every other platform I've used was good enough, every time that I come back to Jira after a while, I am just amazed at how powerful and functional it is. And, every time I use a different tool after having worked with Jira for a while, it always takes me a while to adapt and a good dose of resignation at knowing that I'll be missing some Jira's unique features.</p>
<p><a name="continuous-integration"></a> ## Continuous integration</p>
<p>Continuous integration is another critical topic. Here, what the industry appears to be saying is that <a href="https://www.thoughtworks.com/continuous-integration">you need to do it</a>. There is no point in looking at tools here if one doesn't even believe in the usefulness of doing Continuous integration. It will make it incredibly easier for you to keep track of what is going on, and to find bugs before they get deployed on production. As far as tools go, no longer that a few years ago the only viable option was to set up Jenkins on some server of yours, and spend days trying to make it work, not to mention the fact that someone will have to keep an eye on it because something might always break. This problem has now been largely solved by the emergence of many excellent, cloud-based CI platform. Prices are pretty fair, usually free for open source and in some cases free for small private projects as well. The most complete, well documented and most supported of them is undoubtedly Berlin-based <a href="https://travis-ci.com/">Travis</a>. Recently, <a href="https://circleci.com/">CircleCI</a> has also attracted a lot of attention, mostly because it's very fast, and because it's free for small projects (i.e. if you only run one build at a time). I haven't found their documentation to be outstanding, and there's not (yet) much help to be found online, but with a bit of effort I've always been able to make it work nicely.</p>
<p><a name="static-analysers"></a> ## Static analysers</p>
<p>Something else that you should make sure to have in your stack at some point: static analysers. These tools, while obviously far from replacing the need for writing clean code on the side of the programmer, are very helpful in pointing out a lot of code smells, therefore helping immensely especially during (or before) the process of code reviewing. Here things may change based on the language you're using. <a href="https://codeclimate.com/">CodeClimate</a> supports a lot of languages, and it's probably the one you want to go for in many cases. Being open source, you can either download it and use it from your command line, or pay for the cloud version, which offers a nice UI and it's perhaps a better deal overall. I'm also a big fan of <a href="https://scrutinizer-ci.com/">Scrutinizer</a>, but it supports only a limited number of languages. The best way to make static analysers part of your development process, is to add it to your GitHub build. This allows you to check in real time, as you create a Pull Request, the quality of code you're trying to push to the master branch. Moreover, you can make this even stricter by using GitHub's <a href="https://help.github.com/articles/about-protected-branches/">Protected Branches</a> feature, and disallowing you and your collaborators from merging into the master branch unless a certain level of quality has been reached.</p>
<hr />
<p><a name="conclusion"></a> ## Conclusion</p>
<p>While it's totally understandable that from time to time it might not be possible for someone to follow the above guidelines in their entirety, it's probably worth it to <strong>ask yourself</strong> if there are good reasons for not following them. If there aren't, then it's definitely time to consider implementing some change.</p>
<p>As a software engineer, there's no reason to be left behind by the industry and, most importantly, not to use the right tools to deliver the best possible work. As a company, there's no reason why you wouldn't make it possible for your people to work with the best available tools, making both them and your customers happier.</p>
